var I18N = {
    'en': {
        'h1': "Electric Field Simulation",
        'author': "by dacoconutchemist",
        'toolchoice': 'Tool: ',
        'chargelabel': "Charge of the placed particle:",
        'howto-summary': "How to use",
        'howto-1': "&#x2022; To place particles, use left click for positive charge sign (short tap on touchscreen) or right click (long tap on touchscreen) for negative charge sign. The absolute value of the charge is controlled by the slider above.",
        'howto-2': "&#x2022; To move particles, drag them around by their colored part.",
        'howto-3': "&#x2022; To remove particles, right click on their colored part (long tap on touchscreen).",
        'equipot-summary': "Equipotential lines",
        'slider_equipot': "Density",
        'slider_equipot_d': "Opacity",
        'slider_equipot_t': "Thickness",
        'E-summary': "Electric field direction",
        'slider_E': "Size",
        'slider_E_d': "Opacity",
        'slider_E_t': "Thickness",
        'check_E_head': " Arrow heads",
        'powerline-summary': "Electric field lines",
        'slider_powerline': "Amount",
        'slider_powerline_d': "Opacity",
        'slider_powerline_t': "Thickness",
        'slider_powerline_q': "Quality",
        'chargeinitial': " 2.00 μC",
        'chargeunit': " μC",
        'voltageunit': " V",
        'rendered': 'Image rendered (%time% ms)',
        'rendering': 'Rendering...',
        'clear': 'Delete charges',
        'reset': 'Reset all settings to default',
        'clear_msg': 'Delete existing charges? This action cannot be undone',
        'reset_msg': 'Reset all settings to their default values? This action cannot be undone',
        'color_equipot': 'Color',
        'color_powerline': 'Color',
        'color_E': 'Color',
        'bg-summary': 'Miscellaneous',
        'check_bg': ' Enable background',
        'color_bg_def': 'Default color',
        'color_pos': 'Positive color',
        'color_neg': 'Negative color',
        'color_outline': 'Charge outline color',
        'rendered_fps': 'Image rendered (%fps% FPS on average)',
        'check_anim': ' <abbr title="(not recommended for low-end devices)">Smooth mode</abbr>'
    },
    'ua': {
        'h1': "Симуляція Електричного Поля",
        'author': "зроблено dacoconutchemist",
        'toolchoice': 'Інструмент: ',
        'chargelabel': "Заряд поставленої частинки:",
        'howto-summary': "Як користуватись",
        'howto-1': "&#x2022; Щоб поставити заряджену частинку, скористайтесь лівою кнопкою миші для додатнього заряду або правою для від'ємного. Модуль заряду контролюється повзунком вище.",
        'howto-2': "&#x2022; Щоб рухати частинки, перетягніть їх за забарвлену частину лівою кнопкою миші.",
        'howto-3': "&#x2022; Щоб видаляти частинки, натисніть правою кнопкою миші на їх забарвлену частину.",
        'equipot-summary': "Еквіпотенціальні лінії",
        'slider_equipot': "Щільність",
        'slider_equipot_d': "Прозорість",
        'slider_equipot_t': "Товщина",
        'E-summary': "Напрям електричного поля",
        'slider_E': "Розмір",
        'slider_E_d': "Прозорість",
        'slider_E_t': "Товщина",
        'check_E_head': " Наконечники стрілок",
        'powerline-summary': "Лінії електричного поля",
        'slider_powerline': "Кількість",
        'slider_powerline_d': "Прозорість",
        'slider_powerline_t': "Товщина",
        'slider_powerline_q': "Якість",
        'chargeinitial': " 2.00 мкКл",
        'chargeunit': " мкКл",
        'voltageunit': " В",
        'rendered': 'Рендеринг завершено (%time% мс)',
        'rendering': 'Рендеринг...',
        'clear': 'Видалити заряди',
        'reset': 'Повернути до початкових налаштувань',
        'clear_msg': 'Видалити існуючі заряди? Цю дію неможливо відмінити',
        'reset_msg': 'Повернути всі налаштування до їх початкових значень? Цю дію неможливо відмінити',
        'color_equipot': 'Колір',
        'color_powerline': 'Колір',
        'color_E': 'Колір',
        'bg-summary': 'Інше',
        'check_bg': ' Увімкнути фон',
        'color_bg_def': 'Колір по замовчуванню',
        'color_pos': 'Колір позитивних зарядів',
        'color_neg': 'Колір негативних зарядів',
        'color_outline': 'Колір контуру зарядів',
        'rendered_fps': 'Рендеринг завершено (%fps% FPS в сер.)',
        'check_anim': ' <abbr title="(не рекомендується для слабких пристроїв)">Плавний режим</abbr>'
    },
    'de': {
        'h1': "Simulation des Elektrischen Feldes",
        'author': "von dacoconutchemist",
        'toolchoice': 'Instrument: ',
        'chargelabel': "Ladung des platzierten Teilchens:",
        'howto-summary': "Anleitung",
        'howto-1': "&#x2022; Zum Platzieren von Teilchen: Linksklick für positive Ladung, Rechtsklick für negative Ladung. Der Betrag der Ladung wird über den Schieberegler oben eingestellt.",
        'howto-2': "&#x2022; Zum Bewegen von Teilchen: Ziehen Sie sie mit der linken Maustaste an ihrem farbigen Teil.",
        'howto-3': "&#x2022; Zum Entfernen von Teilchen: Rechtsklick auf den farbigen Teil.",
        'equipot-summary': "Äquipotentiallinien",
        'slider_equipot': "Dichte",
        'slider_equipot_d': "Deckkraft",
        'slider_equipot_t': "Dicke",
        'E-summary': "Richtung des elektrischen Feldes",
        'slider_E': "Größe",
        'slider_E_d': "Deckkraft",
        'slider_E_t': "Dicke",
        'check_E_head': " Pfeilspitzen",
        'powerline-summary': "Elektrische Feldlinien",
        'slider_powerline': "Anzahl",
        'slider_powerline_d': "Deckkraft",
        'slider_powerline_t': "Dicke",
        'slider_powerline_q': "Qualität",
        'chargeinitial': " 2.00 μC",
        'chargeunit': " μC",
        'voltageunit': " V",
        'rendered': 'Bild gerendert (%time% ms)',
        'rendering': 'Rendering...',
        'clear': 'Ladungen entfernen',
        'reset': 'Rückkehr zu Originaleinstellungen',
        'clear_msg': 'Alle Ladungen entfernen? Diese Aktion ist nicht rückgängig',
        'reset_msg': 'Zu Originaleinstellungen zurückkehren? Diese Aktion ist nicht rückgängig',
        'color_equipot': 'Farbe',
        'color_powerline': 'Farbe',
        'color_E': 'Farbe',
        'bg-summary': 'Sonstiges',
        'check_bg': ' Hintergrund',
        'color_bg_def': 'Standardfarbe',
        'color_pos': 'Positive Farbe',
        'color_neg': 'Negative Farbe',
        'color_outline': 'Konturfarbe der Ladungen',
        'rendered_fps': 'Bild gerendert (%fps% FPS im Durchschnitt)',
        'check_anim': ' <abbr title="(nicht empfohlen für leistungsschwache Geräte)">Kontinuierlicher Modus</abbr>'
    }
};

var LANG = 'en';

function switchLanguage(lang) {
    LANG = lang;
    // for every translatable thing
    $('[data-i18n]').each(function() {
        var key = $(this).attr('data-i18n');
        // set translation if available, otherwise use the fallback included in
        // html and color it red for debug putposes
        if (I18N[lang]) {
            if (I18N[lang][key]) {
                $(this).html(I18N[lang][key]);
            } else {
                $(this).css("color", "red");
                console.log(`'${key}': '',`);
            }
        }
    });
    // this function MIGHT not yet be defined on startup sooooo
    try {
        updateJSI18N();
    } catch(e) {}
}

switchLanguage('en');

let paramLang = window.location.hash.slice(1);
if (paramLang == "en" || paramLang == "de" || paramLang == "ua") {
    switchLanguage(paramLang);
}